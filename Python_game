print("hello")  # just for checking error :):):)

import pygame, sys, os  # this  libraries which are very very important in the game development in python
# for python games we have to import some specific libraries
from pygame.locals import *  # this is use to load the constants of the pygame
import random

# to initialize the python library we will use
pygame.init()

# to create the screen
# also known as surface in the gaming term
game_screen = pygame.display.set_mode((800, 600))  # variable name game_screen with predefined functions
# 800 ,600 are the length and breadth of the surface
# while True:   # condition for the infinite loop and for the program to run infinitely mainly for the

# background
background = pygame.image.load('C:/workspace/Python_Game/Python_Games/background.png')

# now we will change the caption of the window in the game
# title
pygame.display.set_caption("SpaceWar")  # now the title of the game will be space war
game_icon = pygame.image.load('C:/workspace/Python_Game/Python_Games/war.png')  # to add icon to our game window
pygame.display.set_icon(game_icon)

# the spaceship who the player will control
# player
spaceshipImg = pygame.image.load("C:/workspace/Python_Game/Python_Games/spaceship.png")
spaceshipX = 370  # they are the coordinates which specifies the location of the spaceship on the surface
spaceshipY = 480  # coordinate x and y
spaceshipX_change = 6

# monster or the enemy in the game

monsterImg = pygame.image.load("C:/workspace/Python_Game/Python_Games/monster.png")
monsterX = random.randint(0, 800)  # use random because we want in on random places
monsterY = random.randint(40, 150)
monsterX_change = 3
mosterY_change = 40

# bullet

bombImg = pygame.image.load("C:/workspace/Python_Game/Python_Games/bomb.png")
bombX = 0
bombY = 480
bombX_change = 0
bombY_change = 10
bomb_state = 'ready '


def spaceship(x, y):
    game_screen.blit(spaceshipImg, (x, y))


def monster(x, y):
    game_screen.blit(monsterImg, (x, y))


def bomb_fire(x, y):
    global bomb_state
    bomb_state = "fire"
    game_screen.blit(bombImg, (x + 16, y + 10))  # that the bomb comes from the spaceship


# the surface loop
running_screen = True
while running_screen:

    # to add color to the window
    # will choose RGB = 'Red','Green','Blue'
    game_screen.fill((200, 0, 0))  # this is the background of the surface

    # background image
    game_screen.blit(background, (0, 0))

    for event in pygame.event.get():
        if event.type == pygame.QUIT:  # NOW WE HAVE APPLIED A CONDITION THE SCREEN WILL remove after the quit
            running_screen = False  # that means when we will click on the close bar in the game window
        # adding compatiblity with keyboard
        # check weather a key is pressed or not ( left and right side key )
        if event.type == pygame.KEYDOWN:
            if event.key == pygame.K_LEFT:
                spaceshipX_change = -5

            if event.key == pygame.K_RIGHT:
                spaceshipX_change = 5

            if event.type == pygame.K_SPACE:
                bomb_fire(spaceshipX, bombY)

        if event.type == pygame.KEYUP:
            if event.key == pygame.K_LEFT or event.key == pygame.K_RIGHT:
                spaceshipX_change = 0
    # checking the boundries of the spaceship  so it remains in surface
    spaceshipX += spaceshipX_change
    if spaceshipX <= 0:
        spaceshipX = 0
    elif spaceshipX >= 736:
        spaceshipX = 736

    # checking the boundries of the monster in the surface
    monsterX += monsterX_change
    if monsterX <= 0:
        monsterX_change = 3
        monsterY += mosterY_change
    elif monsterX >= 736:
        monsterX = -3
        monsterY += mosterY_change

    # Bomb movement
    if bomb_state is "fire":
        bomb_fire(spaceshipX, bombY)
        bombY -= bombY_change

    spaceship(spaceshipX, spaceshipY)
    monster(monsterX, monsterY)
    pygame.display.update()
